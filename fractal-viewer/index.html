<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Fractal Viewer</title>
        <link href="style.css" rel="stylesheet">
        <script src="lib/webgl-utils.js"></script>
        <script src="lib/webgl-debug.js"></script>
        <script src="lib/cuon-utils.js"></script>
        <script src="util.js"></script>
        <script src="escape-time.js"></script>
        <script src="lyapunov.js"></script>
        <script src="root-finding.js"></script>
        <script src="recursive.js"></script>
        <script src="webgl.js"></script>
    </head>
    <body onload="main()">
        <div class="main">
            <canvas id="fractal_canvas" width="1000px" height="1000px"></canvas>
            <div class="sidebar">
                <div class="input-div">
                    Program: 
                    <select id="program">
                        <option value="escape-time">Escape Time</option>
                        <option value="lyapunov">Lyapunov</option>
                        <option value="root-finding">Root Finding</option>
                        <option value="recursive">Recursive</option>
                    </select>
                </div>
                <div id="escape_time_options">
                    <div class="input-div">
                        Fractal:
                        <select id="esc_fractal_type">
                            <option value="0">Mandelbrot</option>
                            <option value="1">Burning Ship</option>
                            <option value="2">Tricorn</option>
                            <option value="3">Heart</option>
                            <option value="4">Mandelbox</option>
                            <option value="5">Multibrot</option>
                            <option value="6">CodeParade's Feather</option>
                            <option value="10">Tower of Powers</option>
                            <option value="14">Sin</option>
                            <option value="15">Rational Map</option>
                            <option value="16">Phoenix</option>
                            <optgroup label="Chaotic Maps (generally not very fractal-ly)">
                                <option value="7">Chirikov</option>
                                <option value="11">Modified Duffing</option>
                                <option value="12">"Gingerbread"</option>
                                <option value="13">Hénon</option>
                            </optgroup>
                            <optgroup label="Custom">
                                <option value="8">Smelly Shoe</option>
                                <!-- <option value="9">Custom</option> -->
                            </optgroup>
                        </select>
                        <div id="scaling_div" style="display: none">
                            Scale:
                            <input id="scaling" type="number" value="2.0" step="0.025">
                        </div>
                        <div id="exponent_div" style="display: none">
                            Exponent:
                            <input id="exponent" type="number" value="2.0" step="0.025">
                        </div>
                        <div id="rational_div" style="display: none">
                            p:
                            <input id="rational_p" type="number" value="2.0" step="0.025" min="0">
                            <br>
                            q:
                            <input id="rational_q" type="number" value="-2.0" step="0.025" max="0">
                            <br>
                            Lambda:
                            <input id="rational_lambda" type="number" value="0.0625" step="0.0025">
                        </div>
                        <div id="phoenix_div" style="display: none;">
                            Re(p):
                            <input id="phoenix_p_real" type="number" value="-0.5" step="0.01">
                            <br>
                            Im(p):
                            <input id="phoenix_p_imag" type="number" value="0" step="0.01">
                        </div>
                    </div>
                    <div class="input-div">
                        Julia:
                        <input type="checkbox" id="is_julia">
                        <div id="julia_options" style="display: none">
                            Julia C Value:
                            <canvas id="julia_selector" class="selector" width="200px" height="200px"></canvas>
                        </div>
                    </div>
                    <div class="input-div">
                        Smoothing:
                        <select id="smoothing_type">
                            <option value="0">None</option>
                            <option value="1">Log</option>
                            <option value="2">Reverse</option>
                        </select>
                    </div>
                    <div class="input-div">
                        Max Iterations:
                        <input id="esc_max_iterations" type="number" value="30" min="0">
                        <br>
                        Escape Radius:
                        <input id="escape_radius" type="number" value="2.0" step="0.1" min="0">
                        <br>
                        Min Radius:
                        <input id="min_radius" type="number" value="0.0" step="0.025" min="0">
                    </div>
                    <div class="input-div">
                        Colouring:
                        <select id="colouring_type">
                            <option value="0">Gradient</option>
                            <option value="1">Rings</option>
                            <option value="2">Hue Cycle</option>
                            <option value="3">Normal Mapping</option>
                        </select>
                        <br>
                        Interior Colouring:
                        <select id="interior_colouring_type">
                            <option value="0">Solid</option>
                            <option value="1">On</option>
                        </select>
                    </div>
                    <div id="colour_select" class="input-div" style="display: grid">
                        <div class="grid-entry">
                            Trapped Colour:
                            <input id="trapped_colour" type="color" value="#000000">
                        </div>
                        <div class="grid-entry">
                            Close Colour:
                            <input id="close_colour" type="color" value="#0000FF">
                        </div>
                        <div class="grid-entry">
                            Far Colour:
                            <input id="far_colour" type="color" value="#000000">
                        </div>
                    </div>
                </div>
                <div id="lyapunov_options" style="display:none">
                    <div class="input-div">
                        Fractal Type:
                        <select id="lya_fractal_type">
                            <option value="0">Logistic</option>
                            <option value="1">Gaussian</option>
                            <option value="2">Circle</option>
                        </select>
                    </div>
                    <div class="input-div">
                        Sequence (1s, 2s, and 3s only):
                        <input id="lya_sequence" type="text" value="12" maxlength="8" size="8">
                        <hr>
                        Value of "3":
                        <input id="c_value" type="range" min="0.5" max="4.5" value="2.5" step="0.005" style="width:95%">
                    </div>
                    <div class="input-div">
                        Iterations:
                        <input id="lya_iterations" type="number" value="250" min="0">
                    </div>
                    <div class="input-div" style="display: grid">
                        <div class="grid-entry">
                            Stable Colour:
                            <input id="stable_colour" type="color" value="#FFFF00">
                        </div>
                        <div class="grid-entry">
                            Chaotic Colour:
                            <input id="chaotic_colour" type="color" value="#0000FF">
                        </div>
                        <div class="grid-entry">
                            Infinity Colour:
                            <input id="infinity_colour" type="color" value="#000000">
                        </div>
                    </div>
                </div>
                <div id="root_finding_options" style="display:none;">
                    <div class="input-div">
                        Algorithm:
                        <select id="rtf_algorithm">
                            <option value="0">Newton</option>
                            <option value="1">Halley</option>
                            <option value="2">Schröder</option>
                            <option value="3">Steffensen</option>
                            <optgroup label="Secant">
                                <option value="4">z0 = 0</option>
                                <option value="5">z0 = swap(z)</option>
                                <option value="6">z0 = 2z</option>
                                <option value="7">z0 = conj(z)</option>
                                <option value="8">z0 = z^2</option>
                            </optgroup>
                        </select>
                        <br>
                        Fractal Type:
                        <select id="rtf_fractal_type">
                            <option value="0">Classic</option>
                            <option value="1">Nova</option>
                        </select> 
                    </div>
                    <div>
                        Roots:
                        <canvas id="root_selector" class="selector" width="200px" height="200px">q</canvas>
                    </div>
                    <div class="input-div">
                        Max Iterations:
                        <input id="rtf_iterations" type="number" value="40" min="0">
                        <br>
                        Bailout Threshold:
                        <input id="rtf_threshold" type="number" value="0.000001" min="0" step="0.000001" style="width: 70px">
                    </div>
                    <div class="input-div">
                        Colouring:
                        <select id="rtf_colouring_type">
                            <option value="0">Root</option>
                            <option value="1">Shaded Root</option>
                            <option value="2">Convergence</option>
                        </select>
                    </div>
                    <div id="root_colour_div" class="input-div">
                        <div class="grid-entry">
                            Root 1 Colour:
                            <input id="root1_colour" type="color" value="#FF0000">
                        </div>
                        <div class="grid-entry">
                            Root 2 Colour:
                            <input id="root2_colour" type="color" value="#00FF00">
                        </div>
                        <div class="grid-entry">
                            Root 3 Colour:
                            <input id="root3_colour" type="color" value="#0000FF">
                        </div>
                        <div class="grid-entry">
                            Base Colour:
                            <input id="base_colour" type="color" value="#000000">
                        </div>
                    </div>
                </div>
                <div id="recursive_options" style="display: none;">
                    <div class="input-div">
                        Fractal Type:
                        <select id="rc_fractal_type">
                            <option value="0">Sierpiński Carpet</option>
                            <option value="1">Sierpiński Triangle</option>
                            <option value="2">T-square</option>
                            <option value="3">Pythagoras Tree</option>
                            <option value="4">H Tree</option>
                            <option value="5">Vicsek</option>
                        </select>
                    </div>
                    <div class="input-div">
                        Iterations:
                        <input id="rc_iterations" type="number" value="8" min="0" max="20">
                    </div>
                </div>
                <div class="input-div">
                    Samples:
                    <input id="samples" type="number" value="1" min="1" max="10">
                    <br>
                    <button onclick="resetView()">Reset View</button>
                </div>
                WASD = Move
                <br>
                +/- = Zoom
            </div>
        </div>
    </body>
</html>